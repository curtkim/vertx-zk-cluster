group 'curtkim'
version '1.0-SNAPSHOT'

apply plugin: 'groovy'
apply plugin: 'java'

sourceCompatibility = 1.8

ext.deps = [
  vertxVersion: '3.5.1',
]

repositories {
    mavenCentral()
}

dependencies {
    compile "io.vertx:vertx-core:${deps.vertxVersion}"
    compile "io.vertx:vertx-kafka-client:${deps.vertxVersion}"
    compile "io.vertx:vertx-zookeeper:${deps.vertxVersion}"
    compile 'org.codehaus.groovy:groovy-all:2.4.4'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task runApp(type:JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = "ex.Main"
}

task copyDeps(type: Copy) {
    from configurations.runtime
    into 'lib'
}
task copyJar(type: Copy){
    from  jar.archivePath
    into 'lib'
}

task installJar(dependsOn: [build, copyDeps, copyJar]){}
